import Head from "next/head";
import Link from "next/link";

import { Metadata } from "next";
import Button from "~/components/ui/styled/Button";

export const metadata: Metadata = {
  title: "Ayden: Your Developer",
  description: "Generated by create-t3-app",
  icons: ["/favicon.ico"],
};
import { PortableText } from "@portabletext/react";
import blueWave from "~/assets/blue-wave.png";
import getHero from "~/sanity/sanity-utils";

import { headers } from "next/headers";
import { getServerPathname } from "~/utils/utils";

export default async function Home() {
  const headersList = headers();
  const pathname = getServerPathname(headersList);
  const hero = await getHero(pathname);
  return (
    <>
      <div
        className="absolute right-0 top-32 h-full w-full bg-contain bg-right-bottom bg-no-repeat"
        style={{ backgroundImage: `url(${blueWave.src})` }}
      ></div>
      <div className="relative flex min-h-screen flex-col justify-center">
        <div className="container flex max-w-5xl flex-col gap-3 px-4 py-16 md:pl-16 lg:pl-36">
          <h2>{hero.topText}</h2>
          <PortableText
            value={hero.header}
            components={{
              block: ({ children }) => <h1 className="">{children}</h1>,
            }}
          />

          <PortableText
            value={hero.description}
            components={{
              block: ({ children }) => <h2 className="">{children}</h2>,
            }}
          />

          <Button type="link" href="/about">
            Get in touch
          </Button>
        </div>
      </div>
    </>
  );
}
